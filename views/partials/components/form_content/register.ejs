<!-- {
    group: { id:'', input:''},
    input: { id:'', type:'', req:},
    label: { id:'', content:''},
    validation: { regex, error_message }
}, {
    group: { id:'', select:''},
    label: { id:'', content:''},
    options: [{ value:'', content:'' }, ... ]
}-->

<%- include('components/input_group', {
    group: { id:'name_group', input:'name_input'},
    label: { id:'name_label', content:'Nombre/s *'},
    input: { id:'name', type:'text', req:true},
    validation: {
        regex:/^ *[a-záéíóúñ]{3,}( [a-záéíóúñ]{2,})* *$/i,
        error_message: 'Solo nombres con letras y un espacio para separarlos. Estos tendrán un mínimo de 3 letras.'
    }
}); %>

<%- include('components/input_group', {
    group: { id:'last_name_group', input:'last_name_input'},
    label: { id:'last_name_label', content:'Apellido/s *'},
    input: { id:'last_name', type:'text', req:true},
    validation: {
        regex:/^ *[a-záéíóúñ]{3,}( [a-záéíóúñ]{2,})* *$/i,
        error_message: 'Solo apellidos con letras y un espacio para separarlos. Estos tendrán un mínimo de 3 letras.'
    }
}); %>

<%- include('components/input_group', {
    group: { id:'dni_group', input:'dni_input'},
    label: { id:'dni_label', content:'DNI N° *'},
    input: { id:'dni', type:'number', req:true},
    validation: { regex:/^\d{8}$/, error_message: 'Solo 8 números serán válidos.'}
}); %>

<%- include('flatpickrs/birthdate', {
    group: { id:'birth_group', input:'birth_input'},
    label: { id:'birth_label', content:'Fecha de nacimiento'},
    input: { id:'birth', type:'text', req:false},
    validation: { regex:/.*/, error_message: ''}
}); %>

<%- include('components/input_group', {
    group: { id:'cel_group', input:'cel_input'},
    label: { id:'cel_label', content:'Celular'},
    input: { id:'cel', type:'number', req:false},
    validation: { regex:/^\d{10}$/, error_message: 'Solo 10 números serán válidos.'}
}); %>

<%- include('components/input_group', {
    group: { id:'mail_group', input:'mail_input'},
    label: { id:'mail_label', content:'Correo *'},
    input: { id:'mail', type:'email', req:true},
    validation: {
        regex:/^ *(?!.*\.\.)[\w.%+-]+@(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z]{2,63} *$/i,
        error_message: 'Formato mínimo válido: usuario@correo.com'
    }
}); %>

<%- include('dropdowns/option-dropdown', {
    group: { id:'dropdown_of_areas', select:'area_select'},
    label: { id:'label_of_areas', content:'Área de la Facultad *'},
    options: [
        { value: "departamento_ingenieria", content: "Departamento de Ingeniería" },
        { value: "departamento_ciencias_sociales", content: "Departamento de Ciencias Sociales" },
        { value: "departamento_economicas", content: "Departamento de Ciencias Económicas" },
        { value: "departamento_ambiental", content: "Departamento de Ingeniería Ambiental" },
        { value: "centro_estudiantes", content: "Centro de Estudiantes" },
        { value: "area_cultura", content: "Área de Cultura y Arte Universitario" },
        { value: "area_comunicacion", content: "Área de Comunicación Institucional" },
        { value: "area_investigacion", content: "Área de Investigación y Desarrollo" },
        { value: "area_vinculacion", content: "Área de Vinculación Tecnológica" },
        { value: "programa_voluntariado", content: "Programa de Voluntariado Universitario" },
        { value: "extension_territorial", content: "Área de Extensión Territorial" },
        { value: "oficina_graduados", content: "Oficina de Graduados" },
        { value: "secretaria_academica", content: "Secretaría Académica" },
        { value: "secretaria_bienestar", content: "Secretaría de Bienestar Universitario" },
        { value: "area_emprendedores", content: "Área de Innovación y Emprendedores" }
    ]
}); %>

<div id="button_group" class="flexRow vp">
    <%- include('components/button', {
        btn: { id:'reset', type:'reset', classes:''},
        content: { name:'Limpiar Datos', icon:''}
    }); %>

    <%- include('components/button', {
        btn: { id:'check_email', type:'', classes:''},
        content: { name:'Verificar Correo', icon:''}
    }); %>
</div>

<script>
    const form=document.getElementById('<%= id %>');
    const areasLabel=document.getElementById('label_of_areas');

    form.addEventListener('reset', () => {
        choicesInstances['area_select'].setChoiceByValue('');
        areasLabel.classList.remove('active');

        Object.keys(inputStates).forEach(key => {
            inputStates[key].state = false;
            inputStates[key].input.classList.remove('correct', 'error');
            inputStates[key].label.classList.remove('correct', 'error');
            inputStates[key].icon.classList.add('hidden');
            inputStates[key].p.classList.add('hidden');
        });
    });
</script>